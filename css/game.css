:root {
    --cor-borda-painel: #a48042;
    --cor-destaque: #ffd700;
    --cor-painel: rgba(20,20,20,0.85);
    --cor-painel-transparente: rgba(20,20,20,0.7);
    --cor-borda-painel-transparente: rgba(84,68,33,0.6);
    --glow-color-jogador: rgba(0, 150, 255, 0.8);
    --glow-color-oponente: rgba(255, 80, 80, 0.8);
}
* { box-sizing: border-box; }

#game-screen { 
    display: grid; 
    grid-template-areas: "left-panel main-field right-panel"; 
    grid-template-columns: clamp(200px, 15vw, 280px) minmax(0, 1fr) clamp(200px, 15vw, 280px); 
    grid-template-rows: 100%; 
    width: 100vw; 
    height: 100vh; 
    padding: 10px; 
    gap: 10px; 
    overflow: hidden;
}
#field { 
    grid-area: main-field; 
    display: flex; 
    flex-direction: column; 
    justify-content: space-between; 
    gap: 0.5vh; 
    position: relative;
}
.game-ui-panel { 
    display: flex; 
    flex-direction: column; 
    gap: 15px; 
    padding: 15px; 
    background-color: var(--cor-painel); 
    backdrop-filter: blur(5px); 
    border: 2px solid var(--cor-borda-painel); 
    border-radius: 8px; 
    height: 100%;
}
.left-panel { grid-area: left-panel; }
.right-panel { grid-area: right-panel; }

#game-card-preview { flex: 1 1 50%; display: flex; flex-direction: column; gap: 10px; }
#game-card-preview-display { width: 100%; aspect-ratio: 63 / 88; background-color: rgba(0,0,0,0.5); border-radius: 5px; }
#game-card-preview-content { overflow-y: auto; flex-grow: 1; }
#game-card-preview-content h3 { font-size: 1.1em; color: var(--cor-destaque); margin: 0 0 5px; }
#game-card-preview-content p { font-size: 0.9em; line-height: 1.3; margin: 0; }

.game-log-container { flex: 1 1 40%; display: flex; flex-direction: column; }
.game-log { overflow-y: auto; flex-grow: 1; padding: 8px; font-size: 0.9em; background-color: rgba(0,0,0,0.3); border-radius: 5px; }
.game-log p { margin: 0 0 5px; }

.mao { display: flex; justify-content: center; align-items: center; height: 18vh; position: relative; z-index: 50;}
#mao-oponente { transform: translateY(10px); }
#mao-jogador { transform: translateY(-10px); }
.mao .card-container { width: clamp(80px, 7vw, 120px); transition: transform 0.2s; }
.mao .card-container:hover { transform: translateY(-20px) scale(1.1); z-index: 100; }
#mao-oponente .card-container:hover { transform: translateY(20px) scale(1.1); z-index: 100; }

.tabuleiro { display: flex; align-items: center; justify-content: center; }
.lado-jogador { display: grid; grid-template-areas: "cemiterio s1 g s2 deck" ". u1 u2 u3 ."; grid-template-columns: repeat(5, minmax(0, 1fr)); grid-template-rows: auto auto; gap: 0.7vh; width: 100%; max-width: 700px; padding: 0 1.5vw; }
.lado-jogador.oponente { grid-template-areas: ". u1 u2 u3 ." "cemiterio s1 g s2 deck"; }
#oponente-cemiterio { grid-area: cemiterio; } #oponente-s1 { grid-area: s1; } #oponente-g { grid-area: g; } #oponente-s2 { grid-area: s2; } #oponente-deck { grid-area: deck; } #oponente-u1 { grid-area: u1; } #oponente-u2 { grid-area: u2; } #oponente-u3 { grid-area: u3; }
#jogador-cemiterio { grid-area: cemiterio; } #jogador-s1 { grid-area: s1; } #jogador-g { grid-area: g; } #jogador-s2 { grid-area: s2; } #jogador-deck { grid-area: deck; } #jogador-u1 { grid-area: u1; } #jogador-u2 { grid-area: u2; } #jogador-u3 { grid-area: u3; }

.zona { border: 2px solid var(--cor-borda-painel-transparente); border-radius: 8px; position: relative; display: flex; align-items: center; justify-content: center; aspect-ratio: 63 / 88; background: rgba(0,0,0,0.2); }
.zona.valida { border-color: #ffd700; box-shadow: 0 0 10px #ffd700; }
.arrastando { z-index: 1001; position: fixed; pointer-events: none; width: 120px; }
.count-in-zone { position: absolute; bottom: 5px; right: 5px; background: rgba(0,0,0,0.7); color: white; padding: 2px 6px; border-radius: 10px; font-size: 0.9em; font-weight: bold; }

#area-de-conflito { display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; align-items: center; min-height: 15vh; padding: 10px; border-top: 1px solid var(--cor-borda-painel); border-bottom: 1px solid var(--cor-borda-painel); }

.general-info-container { text-align: center; font-size: 1.2em; font-weight: bold; text-shadow: 1px 1px 3px black; }

#phase-track { display: flex; justify-content: space-around; background-color: var(--cor-painel-transparente); padding: 5px; border-radius: 20px; border: 1px solid var(--cor-borda-painel-transparente); }
.phase-orb { padding: 8px 5px; border-radius: 50%; width: 40px; height: 40px; display:flex; align-items: center; justify-content: center; background-color: rgba(60, 60, 60, 0.7); color: #e0e0e0; font-weight: bold; cursor: pointer; transition: all 0.2s; text-align: center; }
.phase-orb.clickable:hover { background-color: rgba(90, 90, 90, 0.8); }
.phase-orb.active.jogador { background-color: var(--glow-color-jogador); color: #1a1a1a; box-shadow: 0 0 12px var(--glow-color-jogador); }
.phase-orb.active.oponente { background-color: var(--glow-color-oponente); color: #1a1a1a; box-shadow: 0 0 12px var(--glow-color-oponente); }

.menu-buttons { display: flex; flex-direction: column; gap: 8px; }
.menu-button { padding: 12px; font-size: 1em; background-color: #4f4f4f; color: #e0e0e0; border: 1px solid var(--cor-borda-painel); border-radius: 5px; cursor: pointer; font-weight: bold; text-align: center; transition: background-color 0.2s, transform 0.1s; }
#passar-prioridade-btn.hidden { display: none; }

.chat-container { display: flex; flex-direction: column; flex-grow: 1; }
.chat-messages { overflow-y: auto; flex-grow: 1; background-color: rgba(0,0,0,0.3); padding: 8px; border-radius: 5px; }
#chat-input { width: 100%; margin-top: 8px; background: #1e1e1e; border: 1px solid var(--cor-borda-painel); color: #e0e0e0; padding: 8px; border-radius: 4px; }

.atacante-valido { cursor: crosshair; box-shadow: 0 0 15px 5px var(--glow-color-jogador) !important; }
.atacante-selecionado { box-shadow: 0 0 15px 5px gold !important; }
.alvo-valido { cursor: pointer; box-shadow: 0 0 15px 5px var(--glow-color-oponente) !important; }
.bloqueador-valido { cursor: pointer; box-shadow: 0 0 15px 5px lightblue !important; }
#prompt-bloqueio { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: var(--cor-painel); border: 2px solid var(--cor-destaque); padding: 25px; border-radius: 10px; z-index: 1002; text-align: center; }
#seta-ataque { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 99; }
